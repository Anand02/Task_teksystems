(this.webpackJsonpteksystem=this.webpackJsonpteksystem||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports=n(16)},,,,,function(e,t,n){},function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),s=n(7),r=n.n(s),l=(n(13),n(14),n(15),n(5)),c=n(1),i=n(2),u=n(4),p=n(3),m=function(e){return e.data.isOpen?e.data.hasMine?o.a.createElement("div",{className:"cell open",onContextMenu:function(e){e.preventDefault()},onClick:function(){return e.open(e.data)}},o.a.createElement("span",null,o.a.createElement("p",{style:{color:"black"}},"fail"))):0===e.data.count?o.a.createElement("div",{className:"cell open",onContextMenu:function(t){t.preventDefault(),e.flag(e.data)},onClick:function(){return e.open(e.data)}}):o.a.createElement("div",{className:"cell open",onContextMenu:function(e){e.preventDefault()},onClick:function(){return e.open(e.data)}},e.data.count):e.data.hasFlag?o.a.createElement("div",{className:"cell open-flag",onContextMenu:function(t){t.preventDefault(),e.flag(e.data)},onClick:function(){return e.open(e.data)}},o.a.createElement("span",null,o.a.createElement("p",{style:{color:"black"}},"fail"))):o.a.createElement("div",{className:"cell",onContextMenu:function(t){t.preventDefault(),e.flag(e.data)},onClick:function(){return e.open(e.data)}})},f=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.props.cells.map((function(t,n){return o.a.createElement(m,{data:t,open:e.props.open,flag:e.props.flag,key:n})}));return o.a.createElement("div",{className:"row"},t)}}]),n}(o.a.Component),h=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).createBoard=function(e){for(var t=[],n=0;n<e.rows;n++){t.push([]);for(var a=0;a<e.columns;a++)t[n].push({x:a,y:n,count:0,isOpen:!1,hasMine:!1,hasFlag:!1})}for(var o=0;o<e.totalMines;o++){var s=Math.floor(Math.random()*e.rows),r=Math.floor(Math.random()*e.columns),l=t[s][r];l.hasMine?o--:l.hasMine=!0}return t},a.flag=function(e){if("ended"!==a.props.status){var t=a.state.rows;e.hasFlag=!e.hasFlag,a.setState({rows:t}),a.props.changeFlagAmount(e.hasFlag?-1:1)}},a.open=function(e){"ended"!==a.props.status&&new Promise((function(t){t(a.findMines(e))})).then((function(t){var n=a.state.rows,o=n[e.y][e.x];if(o.hasMine&&0===a.props.open){console.log("mine was on first click");var s=a.createBoard(a.props);a.setState({rows:s},(function(){a.open(e)}))}else e.hasFlag||o.isOpen||(a.props.onCellClick(),o.isOpen=!0,o.count=t,a.setState({rows:n}),o.hasMine||0!==t||a.openAroundCell(e),o.hasMine&&0!==a.props.open&&a.props.endGame())}))},a.findMines=function(e){for(var t=0,n=-1;n<=1;n++)for(var o=-1;o<=1;o++)e.y+n>=0&&e.x+o>=0&&e.y+n<a.state.rows.length&&e.x+o<a.state.rows[0].length&&(!a.state.rows[e.y+n][e.x+o].hasMine||0===n&&0===o||t++);return t},a.openAroundCell=function(e){for(var t=a.state.rows,n=-1;n<=1;n++)for(var o=-1;o<=1;o++)e.y+n>=0&&e.x+o>=0&&e.y+n<a.state.rows.length&&e.x+o<a.state.rows[0].length&&(a.state.rows[e.y+n][e.x+o].hasMine||t[e.y+n][e.x+o].isOpen||a.open(t[e.y+n][e.x+o]))},a.state={rows:a.createBoard(e)},a}return Object(i.a)(n,[{key:"componentWillReceiveProps",value:function(e){(this.props.open>e.open||this.props.columns!==e.columns)&&this.setState({rows:this.createBoard(e)})}},{key:"render",value:function(){var e=this,t=this.state.rows.map((function(t,n){return o.a.createElement(f,{cells:t,open:e.open,flag:e.flag,key:n})}));return o.a.createElement("div",{className:"board"},t)}}]),n}(a.Component),d=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){var e,a;return Object(c.a)(this,n),(a=t.call(this)).handleCellClick=function(){0===a.state.open&&"running"!==a.state.gameStatus&&a.setState({gameStatus:"running"},a.setInterval(a.tick,1e3)),a.setState((function(e){return{open:e.open+1}}))},a.setInterval=function(e,t){a.intervals.push(setInterval(e,t))},a.reset=function(){a.intervals.map(clearInterval),a.setState(Object.assign({},a.baseState),(function(){a.intervals=[]}))},a.tick=function(){if(a.state.open>0&&"running"===a.state.gameStatus){var e=a.state.time+1;a.setState({time:e})}},a.endGame=function(){a.setState({gameStatus:"ended"})},a.Winner=function(){a.state.totalMines+a.state.open>=a.state.rows*a.state.columns&&a.setState({gameStatus:"winner"},alert("WINNER"))},a.changeFlagAmount=function(e){a.setState({flagCount:a.state.flagCount+e})},a.state=(e={rows:10,columns:10,time:0,flagCount:10,open:0,totalMines:10},Object(l.a)(e,"rows",10),Object(l.a)(e,"columns",10),Object(l.a)(e,"gameStatus","waiting"),e),a}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.intervals=[]}},{key:"componentDidUpdate",value:function(e,t){"running"===this.state.gameStatus&&this.Winner()}},{key:"render",value:function(){console.log("props",this.state);var e=Math.floor(this.state.time/60);console.log("props",e);var t=this.state.time-60*e||0;console.log("props",t),t=t<10?"0".concat(t):t;var n="".concat(e,":").concat(t),a="running"===this.state.gameStatus||"waiting"===this.state.gameStatus?o.a.createElement("p",{style:{color:"green"}}," W "):o.a.createElement("p",{style:{color:"red"}}," Fail ");return o.a.createElement("div",{className:"game"},o.a.createElement("h1",{style:{color:"blue"}},"MINESWEEPER"),o.a.createElement("h2",null,"Anand Gadag "),o.a.createElement("div",{className:"board-head"},o.a.createElement("div",{className:"flag-count"}," ",this.state.flagCount," "),o.a.createElement("button",{className:"reset",onClick:this.state.reset},a),o.a.createElement("div",{className:"timer"},n)),o.a.createElement(h,{columns:this.state.columns,endGame:this.endGame,status:this.state.gameStatus,onCellClick:this.handleCellClick,open:this.state.open,totalMines:this.state.totalMines,rows:this.state.rows,changeFlagAmount:this.changeFlagAmount}))}}]),n}(o.a.Component);var g=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(d,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.1401e191.chunk.js.map